import { Callout } from "nextra-theme-docs";

# GZ::CTF

GZ::CTF æ˜¯ä¸€ä¸ªåŸºäº ASP.NET Core çš„å¼€æº CTF å¹³å°ï¼Œé‡‡ç”¨ Docker æˆ– K8s ä½œä¸ºå®¹å™¨éƒ¨ç½²åç«¯ï¼Œæä¾›äº†å¯è‡ªå®šä¹‰çš„é¢˜ç›®ç±»å‹ã€åŠ¨æ€å®¹å™¨å’ŒåŠ¨æ€åˆ†å€¼åŠŸèƒ½ã€‚

æœ¬é¡¹ç›®ç¼˜èµ·äºä½œè€…è®¤ä¸º CTFd çš„å®ç°ä¸ä¼˜é›…ï¼ŒåŠ¨æ€å®¹å™¨é…ç½®éœ€è¦é‡‡ç”¨æ’ä»¶çš„æ–¹å¼ï¼Œä¸”å‰ç«¯ä¸å¥½çœ‹ï¼ŒåŒæ—¶ä¸ºäº†åŠæ ¡èµ›å’Œå¸®åŠ©å…¶ä»–å­¦æ ¡çš„åŒå­¦åŠèµ›ï¼Œäºæ˜¯è‡ªå·±åŠ¨æ‰‹å†™äº†ä¸€ä¸ªã€‚

GZ::CTF åŸºäº AGPLv3 åè®®å¼€æºï¼Œä½¿ç”¨å’Œä¿®æ”¹å‡éœ€éµå®ˆå¼€æºåè®®ã€‚å¼€å§‹éƒ¨ç½²è¯·å‚è€ƒ [å¿«é€Ÿä¸Šæ‰‹](/zh/quick-start)ã€‚

<Callout type="warning">

2024/01/01 èµ·ï¼Œ`develop` é•œåƒçš„æ•°æ®åº“ç»“æ„ä¸å†ä¸ä¹‹å‰çš„ç‰ˆæœ¬å…¼å®¹ï¼Œå¦‚æœç»§ç»­ä½¿ç”¨è¯·è½¬è‡³ `v0.17`ã€‚

åœ¨æ–°ç‰¹æ€§çš„å¿«é€Ÿå¼€å‘æœŸï¼Œä¸å»ºè®®ä½¿ç”¨ `develop` é•œåƒè¿›è¡Œç”Ÿäº§éƒ¨ç½²ï¼Œç›¸å…³æ•°æ®åº“ç»“æ„å˜æ›´å°†å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚

</Callout>

## ç‰¹æ€§ ğŸ› ï¸

- åˆ›å»ºé«˜åº¦å¯è‡ªå®šä¹‰çš„é¢˜ç›®

  - é¢˜ç›®ç±»å‹ï¼šé™æ€é™„ä»¶ã€åŠ¨æ€é™„ä»¶ã€é™æ€å®¹å™¨ã€åŠ¨æ€å®¹å™¨

    - é™æ€é™„ä»¶ï¼šå…±ç”¨é™„ä»¶ï¼Œä»»æ„æ·»åŠ çš„ flag å‡å¯æäº¤ã€‚
    - åŠ¨æ€é™„ä»¶ï¼šéœ€è¦è‡³å°‘æ»¡è¶³é˜Ÿä¼æ•°é‡çš„ flag å’Œé™„ä»¶ï¼Œé™„ä»¶åŠ flag æŒ‰ç…§é˜Ÿä¼è¿›è¡Œåˆ†å‘ã€‚
    - é™æ€å®¹å™¨ï¼šå…±ç”¨å®¹å™¨æ¨¡ç‰ˆï¼Œä¸ä¸‹å‘ flagï¼Œä»»æ„æ·»åŠ çš„ flag å‡å¯æäº¤ã€‚
    - åŠ¨æ€å®¹å™¨ï¼šè‡ªåŠ¨ç”Ÿæˆå¹¶é€šè¿‡å®¹å™¨ç¯å¢ƒå˜é‡è¿›è¡Œ flag ä¸‹å‘ï¼Œæ¯ä¸ªé˜Ÿä¼ flag å”¯ä¸€ã€‚

  - åŠ¨æ€åˆ†å€¼

    - åˆ†å€¼æ›²çº¿ï¼š

      $$ f(S, r, d, x) = \left \lfloor S \times \left[r + ( 1- r) \times \exp\left( \dfrac{1 - x}{d} \right) \right] \right \rfloor $$

      å…¶ä¸­ $S$ ä¸ºåŸå§‹åˆ†å€¼ã€ $r$ ä¸ºæœ€ä½åˆ†å€¼æ¯”ä¾‹ã€ $d$ ä¸ºéš¾åº¦ç³»æ•°ã€ $x$ ä¸ºæäº¤æ¬¡æ•°ã€‚å‰ä¸‰ä¸ªå‚æ•°å¯é€šè¿‡è‡ªå®šä¹‰å®ç°ç»å¤§éƒ¨åˆ†çš„åŠ¨æ€åˆ†å€¼éœ€æ±‚ã€‚

    - ä¸‰è¡€å¥–åŠ±ï¼š
      å¹³å°å¯¹ä¸€äºŒä¸‰è¡€åˆ†åˆ«å¥–åŠ± 5%ã€3%ã€1% çš„å½“å‰é¢˜ç›®åˆ†å€¼

  - æ¯”èµ›è¿›è¡Œä¸­å¯å¯ç”¨ã€ç¦ç”¨é¢˜ç›®ï¼Œå¯å¤šæ¬¡æ”¾é¢˜
  - åŠ¨æ€ flag ä¸­å¯ç”¨ä½œå¼Šæ£€æµ‹ï¼Œå¯é€‰çš„ flag æ¨¡ç‰ˆï¼Œleet flag åŠŸèƒ½

- **åˆ†ç»„é˜Ÿä¼**å¾—åˆ†æ—¶é—´çº¿ã€åˆ†ç»„ç§¯åˆ†æ¦œ
- åŸºäº **Docker æˆ– K8s** çš„åŠ¨æ€å®¹å™¨åˆ†å‘ã€ç®¡ç†ã€å¤šç§ç«¯å£æ˜ å°„æ–¹å¼
- åŸºäº SignalR çš„**å®æ—¶**æ¯”èµ›é€šçŸ¥ã€æ¯”èµ›äº‹ä»¶å’Œ flag æäº¤ç›‘æ§åŠæ—¥å¿—ç›‘æ§
- SMTP é‚®ä»¶éªŒè¯åŠŸèƒ½ã€åŸºäº Google ReCaptchav3 çš„æ¶æ„æ³¨å†Œé˜²æŠ¤
- ç”¨æˆ·å°ç¦ã€ç”¨æˆ·ä¸‰çº§æƒé™ç®¡ç†
- å¯é€‰çš„é˜Ÿä¼å®¡æ ¸ã€é‚€è¯·ç ã€æ³¨å†Œé‚®ç®±é™åˆ¶
- å¹³å°å†… Writeup æ”¶é›†ã€æŸ¥é˜…ã€æ‰¹é‡ä¸‹è½½
- å¯ä¸‹è½½å¯¼å‡ºç§¯åˆ†æ¦œã€å¯ä¸‹è½½å…¨éƒ¨æäº¤è®°å½•
- æ¯”èµ›æœŸé—´è£åˆ¤ç›‘æ§ã€æäº¤å’Œä¸»è¦äº‹ä»¶æ—¥å¿—
- é¢˜ç›®æµé‡ **TCP over WebSocket ä»£ç†è½¬å‘**ã€å¯é…ç½®æµé‡æ•è·
- åŸºäº Redis çš„é›†ç¾¤ç¼“å­˜ã€åŸºäº PGSQL çš„æ•°æ®åº“å­˜å‚¨åç«¯
- é¢å‘ Prometheus / OpenTelemetry çš„ç›‘æ§å’Œæ•°æ®è¿½è¸ª
- å…¨å±€é…ç½®é¡¹è‡ªå®šä¹‰ã€å¹³å°æ ‡é¢˜ã€å¤‡æ¡ˆä¿¡æ¯
- ä»¥åŠæ›´å¤šâ€¦â€¦

## Stars âœ¨

[![Stargazers over time](https://starchart.cc/GZTimeWalker/GZCTF.svg?variant=adaptive)](https://starchart.cc/GZTimeWalker/GZCTF)

## Grafana ğŸ“Š

![grafana.webp](/images/grafana.webp)

## Demo ğŸ—¿

![index.webp](/images/index.webp)

![game.challenges.webp](/images/game.challenges.webp)

![game.scoreboard.webp](/images/game.scoreboard.webp)

![admin.settings.webp](/images/admin.settings.webp)

![admin.challenges.webp](/images/admin.challenges.webp)

![admin.challenge.info.webp](/images/admin.challenge.info.webp)

![admin.challenge.flags.webp](/images/admin.challenge.flags.webp)

![admin.game.info.webp](/images/admin.game.info.webp)

![admin.game.review.webp](/images/admin.game.review.webp)

![admin.teams.webp](/images/admin.teams.webp)

![admin.instances.webp](/images/admin.instances.webp)

![monitor.game.events.webp](/images/monitor.game.events.webp)

![monitor.game.submissions.webp](/images/monitor.game.submissions.webp)
