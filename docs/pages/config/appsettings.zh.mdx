import { Callout } from "nextra-theme-docs";

# appsettings.json é…ç½®

`appsettings.json` æ–‡ä»¶æ˜¯ GZCTF çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œé€šè¿‡æŒ‚è½½å…¥å®¹å™¨å†…çš„æ–¹å¼è¿›è¡Œé…ç½®ã€‚æœ¬ç¯‡å°†ä»‹ç»é…ç½®æ–‡ä»¶çš„å„ä¸ªå­—æ®µçš„å«ä¹‰ã€‚

<Callout type="info">

`appsettings.json` çš„æ¯æ¬¡æ›´æ–°éƒ½éœ€è¦é‡å¯ GZCTF æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆã€‚

</Callout>

## é…ç½®æ–‡ä»¶ç»“æ„

æ­¤å¤„ç»™å‡ºä¸€ä¸ªå®Œæ•´çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼š

```json
{
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "Database": "Host=db:5432;Database=gzctf;Username=postgres;Password=<Database Password>"
    // redis is optional
    //"RedisCache": "cache:6379,password=<Redis Password>"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    },
    "Loki": {
      "Enable": true,
      "EndpointUri": "http://loki:3100",
      "Labels": [
        {
          "Key": "app",
          "Value": "gzctf"
        }
      ],
      "PropertiesAsLabels": ["app"],
      "Credentials": {
        "Login": "login",
        "Password": "password"
      },
      "Tenant": "my-tenant",
      "MinimumLevel": "Trace"
    }
  },
  "Telemetry": {
    "Prometheus": {
      "Enable": false,
      "Port": 3000,
      "TotalNameSuffixForCounters": false
    },
    "OpenTelemetry": {
      "Enable": false,
      "Protocol": "Grpc",
      "EndpointUri": "http://jaeger-collector:4317"
    },
    "AzureMonitor": {
      "Enable": false,
      "ConnectionString": "InstrumentationKey=12345678-abcd-abcd-abcd-12345678..."
    },
    "Console": {
      "Enable": false
    }
  },
  "EmailConfig": {
    "SendMailAddress": "a@a.com",
    "UserName": "",
    "Password": "",
    "Smtp": {
      "Host": "localhost",
      "Port": 587,
      "BypassCertVerify": false
    }
  },
  "XorKey": "<Random Key Str>",
  "ContainerProvider": {
    "Type": "Docker", // or "Kubernetes"
    "PortMappingType": "Default",
    "EnableTrafficCapture": false,
    "PublicEntry": "ctf.example.com", // or "xxx.xxx.xxx.xxx"
    "DockerConfig": {
      // optional
      "SwarmMode": false,
      "ChallengeNetwork": "",
      "Uri": "unix:///var/run/docker.sock",
      "UserName": "",
      "Password": ""
    },
    "KubernetesConfig": {
      // optional
      "Namespace": "gzctf-challenges",
      "ConfigPath": "kube-config.yaml",
      "AllowCIDR": [
        // allow the cluster CIDR for LB
        "10.0.0.0/8"
      ],
      "DNS": [
        // custom DNS to avoid cluster DNS
        "8.8.8.8",
        "223.5.5.5"
      ]
    }
  },
  "RequestLogging": false,
  "DisableRateLimit": false,
  "RegistryConfig": {
    "UserName": "",
    "Password": "",
    "ServerAddress": ""
  },
  "CaptchaConfig": {
    "Provider": "None",
    "SiteKey": "...",
    "SecretKey": "...",
    "GoogleRecaptcha": {
      "VerifyAPIAddress": "https://www.recaptcha.net/recaptcha/api/siteverify",
      "RecaptchaThreshold": "0.5"
    }
  },
  "ForwardedOptions": {
    "ForwardedHeaders": 5, // a flag enum, see following link
    "ForwardLimit": 1,
    "ForwardedForHeaderName": "X-Forwarded-For",
    // use the following options to allow proxy
    "TrustedNetworks": ["10.0.0.0/8"],
    "TrustedProxies": ["10.0.0.1"]
  },
  "Kestrel": {
    "Endpoints": {
      "Web": {
        "Url": "http://*:8080"
      },
      "Prometheus": {
        "Url": "http://*:3000"
      }
    },
    "Limits": {
      "MaxResponseBufferSize": 2048,
      "MaxRequestBufferSize": 1048576,
      "MaxRequestLineSize": 8192,
      "MaxRequestHeadersTotalSize": 32768,
      "MaxRequestHeaderCount": 100,
      "MaxRequestBodySize": 27262946,
      "KeepAliveTimeout": "0.0:5:0",
      "RequestHeadersTimeout": "0.0:5:0",
      "MaxConcurrentConnections": null,
      "MaxConcurrentUpgradedConnections": null
    },
    "AddServerHeader": true,
    "AllowResponseHeaderCompression": true,
    "AllowSynchronousIO": false,
    "AllowAlternateSchemes": false,
    "DisableStringReuse": false,
    "ConfigurationLoader": null
  }
}
```

## æ ¸å¿ƒåŠŸèƒ½é…ç½®å­—æ®µ

### ConnectionStrings

æ­¤å¤„é…ç½®æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ `Database` ä¸ºå¿…å¡«é¡¹ï¼Œ`RedisCache` ä¸ºå¯é€‰é¡¹ã€‚

GZCTF ä½¿ç”¨ PostgreSQL ä½œä¸ºåç«¯æ•°æ®åº“å’Œæ•°æ®æŒä¹…åŒ–ï¼Œä½¿ç”¨ Redis ä½œä¸ºç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—ã€‚å•å®ä¾‹éƒ¨ç½²çš„æƒ…å†µä¸‹ Redis ä¸æ˜¯å¿…é¡»çš„ï¼Œå¯ä»¥ç›´æ¥é‡‡ç”¨ GZCTF çš„å†…å­˜ç¼“å­˜ï¼›å¤šå®ä¾‹éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼ŒRedis æ˜¯å¿…é¡»çš„ï¼Œç”¨ä½œå…±äº«ç¼“å­˜å’Œ SignalR çš„ Scale-Out å¹¿æ’­ã€‚

<Callout type="info">

GZCTF ä»…æ”¯æŒ PostgreSQL ä½œä¸ºæ•°æ®åº“ï¼Œä¸æ”¯æŒ MySQL ç­‰å…¶ä»–æ•°æ®åº“ã€‚è¯·åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å†™æ­£ç¡®çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ã€‚

</Callout>

### Logging

æ­¤å¤„å¯ä»¥é…ç½®æ—¥å¿—çº§åˆ«å’ŒèŒƒå›´ï¼Œæ­¤å¤–ï¼ŒGZCTF è¿˜æ”¯æŒå°†æ—¥å¿—å‘é€åˆ° Loki æœåŠ¡å™¨ã€‚

- **LogLevel**ï¼šæ¯ä¸ªå‘½åç©ºé—´çš„æœ€å°æ—¥å¿—çº§åˆ«ã€‚
- **Loki**ï¼šLoki æœåŠ¡å™¨çš„é…ç½®ã€‚

  - **Enable**ï¼šæ˜¯å¦å¯ç”¨ã€‚
  - **EndpointUri**ï¼šLoki æœåŠ¡å™¨çš„ URIã€‚
  - **Labels**ï¼šå¯é€‰ã€‚å…¨å±€æ—¥å¿—äº‹ä»¶æ ‡ç­¾ã€‚
  - **PropertiesAsLabels**ï¼šå¯é€‰ã€‚åº”æ˜ å°„ä¸º Loki æ ‡ç­¾çš„å±æ€§åˆ—è¡¨ã€‚
  - **Credentials**ï¼šå¯é€‰ã€‚å°†ç”¨äºåŸºæœ¬èº«ä»½éªŒè¯çš„å‡­æ®ã€‚
  - **Tenant**ï¼šå¯é€‰ã€‚ç”¨äºå‘ Loki æœåŠ¡å™¨å‘é€æ—¥å¿—çš„ç§Ÿæˆ· IDã€‚
  - **MinimumLevel**ï¼šå¯é€‰ã€‚æœ€å°æ—¥å¿—çº§åˆ«ã€‚

å¯ç”¨çš„æ—¥å¿—çº§åˆ«ï¼šTrace, Debug, Information, Warning, Error, Critical, Noneã€‚

### Telemetry

GZCTF æ”¯æŒæµ‹é‡å’Œåˆ†å¸ƒå¼è¿½è¸ªã€‚æ‚¨å¯ä»¥é…ç½®æ‚¨æƒ³è¦ä½¿ç”¨çš„æä¾›å•†ã€‚

- **Prometheus**: Prometheus æ”¯æŒã€‚

  - **Enable**: æ˜¯å¦å¯ç”¨ã€‚
  - **Port**: å¯é€‰ã€‚Prometheus `/metrics` çš„ç›‘å¬ç«¯å£ã€‚å¦‚æœé…ç½®äº†æ­¤é¡¹ï¼Œéœ€è¦é¢å¤–æ‰‹åŠ¨é…ç½® `Kestrel.Endpoints` ä»¥ä½¿å¾—æœåŠ¡å™¨æ­£å¸¸ç›‘å¬æŒ‡å®šçš„ç«¯å£ã€‚
  - **TotalNameSuffixForCounters**: å¯é€‰ã€‚æ˜¯å¦åœ¨è®¡æ•°å™¨ä¸­åŒ…å« `_total` åç¼€ã€‚

- **OpenTelemetry**ï¼šå°†æµ‹é‡å’Œè¿½è¸ªæ•°æ®å¯¼å‡ºåˆ° OpenTelemetryã€‚

  - **Enable**ï¼šæ˜¯å¦å¯ç”¨ã€‚
  - **Protocol**ï¼š`Grpc` æˆ– `HttpProtobuf`ã€‚
  - **EndpointUri**ï¼šå°†æ•°æ®æ¨é€åˆ°çš„ OpenTelemetry åœ°å€ã€‚

- **AzureMonitor**ï¼šå°†æµ‹é‡å’Œè¿½è¸ªæ•°æ®å¯¼å‡ºåˆ° ApplicationInsightsã€‚

  - **Enable**ï¼šæ˜¯å¦å¯ç”¨ã€‚
  - **ConnectionString**ï¼šè¿æ¥å­—ç¬¦ä¸²ã€‚

- **Console**ï¼šå°†è¿½è¸ªæ•°æ®å¯¼å‡ºåˆ°æ§åˆ¶å°ã€‚

  - **Enable**ï¼šæ˜¯å¦å¯ç”¨ã€‚

### EmailConfig

æ­¤å¤„é…ç½®é‚®ä»¶å‘é€ç›¸å…³ä¿¡æ¯ï¼Œè‹¥é‡‡ç”¨é‚®ç®±æ³¨å†Œå’Œå…¶ä»–ç›¸å…³é‚®ä»¶åŠŸèƒ½ï¼Œæ­¤å¤„ä¸ºå¿…å¡«é¡¹ã€‚

- **SendMailAddress:** å‘ä»¶äººé‚®ç®±åœ°å€
- **UserName:** SMTP æœåŠ¡å™¨ç”¨æˆ·å
- **Password:** SMTP æœåŠ¡å™¨å¯†ç 
- **Smtp:** SMTP æœåŠ¡å™¨åœ°å€å’Œç«¯å£
- **BypassCertVerify:** æ˜¯å¦è·³è¿‡è¯ä¹¦éªŒè¯

<Callout type="info">

ç”±äºéƒ¨åˆ†äº‘æœåŠ¡å‚å®¶é™åˆ¶ï¼Œå¯èƒ½æ— æ³•é‡‡ç”¨ 465 ç«¯å£å‘é€é‚®ä»¶ã€‚æ­¤æ—¶è¯·å°è¯•ä½¿ç”¨ 587 ç«¯å£ã€‚

</Callout>

### XorKey

æ­¤å¤„é…ç½®åŠ å¯†å¯†é’¥ï¼Œç”¨äºåŠ å¯†æ•°æ®åº“ä¸­æ¯”èµ›çš„ç§é’¥ä¿¡æ¯ï¼Œå¯ä¸ºä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦ä¸²ã€‚

### ContainerProvider

æ­¤å¤„é…ç½®å®¹å™¨åç«¯ï¼Œä¸ºæ¯”èµ›åŠ¨æ€åˆ›å»ºå®¹å™¨çš„å¿…å¡«é¡¹ã€‚

- **Type:** å®¹å™¨åç«¯ç±»å‹ï¼Œå¯é€‰ `Docker` æˆ– `Kubernetes`ã€‚
- **PublicEntry:** å®¹å™¨åç«¯çš„å…¬ç½‘åœ°å€ï¼Œç”¨äºç”Ÿæˆæ¯”èµ›çš„è®¿é—®åœ°å€ï¼Œå±•ç¤ºç»™å‚èµ›é˜Ÿä¼ã€‚
- **PortMappingType:** ç«¯å£æ˜ å°„ç±»å‹ï¼Œå¯é€‰ `Default` æˆ– `PlatformProxy`ã€‚
- **EnableTrafficCapture:** æ˜¯å¦å¼€å¯æµé‡æ•è·ï¼Œä»…åœ¨ `PortMappingType` è®¾ç½®ä¸º `PlatformProxy` æ—¶å¯ç”¨ã€‚è‹¥å¼€å¯ï¼Œå°†ä¼šè®°å½•æµé‡äº `/app/files/capture` ç›®å½•ä¸‹ã€‚

#### Docker

- **SwarmMode:** æ˜¯å¦ä¸º Swarm æ¨¡å¼ï¼Œè‹¥ä¸º Swarm æ¨¡å¼ï¼Œå°†ä¼šä½¿ç”¨ Swarm API è¿›è¡Œç®¡ç†ã€‚

  <Callout type="warning">

  ç”±äº Docker Swarm å·²ä¸æ˜¯ä¸€ä¸ªæ´»è·ƒçš„é¡¹ç›®ï¼Œç›¸å…³å®‰å…¨æ€§åŠŸèƒ½ç›¸è¾ƒäº k8s æœ‰å¾ˆå¤§è·ç¦»ï¼Œä¸æ¨èä½¿ç”¨ã€‚

  </Callout>

- **Uri:** Docker API Server åœ°å€

  - å¦‚éœ€ä½¿ç”¨æœ¬åœ° dockerï¼Œè¯·å°† Uri ç½®ç©ºï¼Œå¹¶å°† `/var/run/docker.sock` æŒ‚è½½å…¥å®¹å™¨å¯¹åº”ä½ç½®
  - å¦‚éœ€ä½¿ç”¨å¤–éƒ¨ dockerï¼Œè¯·å°† Uri æŒ‡å‘å¯¹åº” docker API Serverï¼Œ**å¤–éƒ¨ API é‰´æƒå°šæœªå®ç°ï¼Œä¸æ¨èæ­¤éƒ¨ç½²æ–¹å¼**

- **ChallengeNetwork:** æŒ‡å®šé¢˜ç›®å®¹å™¨æ‰€åœ¨çš„ç½‘ç»œï¼Œè‹¥ä¸æŒ‡å®šï¼Œå°†ä¼šä½¿ç”¨é»˜è®¤ç½‘ç»œã€‚

- **UserName, Password:** Docker API Basic Auth ç”¨æˆ·åå’Œå¯†ç ï¼Œå¯é€‰é¡¹ã€‚

#### Kubernetes

- **Namespace:** Kubernetes å‘½åç©ºé—´ï¼Œç”¨äºåˆ›å»ºé¢˜ç›®å®ä¾‹çš„å‘½åç©ºé—´ï¼Œé»˜è®¤ä¸º `gzctf-challenges`
- **ConfigPath:** Kubernetes é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œç”¨äºè¿æ¥é›†ç¾¤ï¼Œé»˜è®¤ä¸º `kube-config.yaml`
- **AllowCIDR:** å…è®¸è®¿é—® Pod çš„ CIDR ç™½åå•
- **DNS:** é¿å…ä½¿ç”¨é›†ç¾¤ DNS çš„è‡ªå®šä¹‰ DNS æœåŠ¡å™¨åˆ—è¡¨

é»˜è®¤è¡Œä¸ºè¯·å°†é›†ç¾¤è¿æ¥é…ç½®æ”¾å…¥ `kube-config.yaml` æ–‡ä»¶ä¸­ï¼Œå¹¶å°†å…¶æŒ‚è½½åˆ° `/app` ç›®å½•ä¸‹ã€‚å®éªŒåŠŸèƒ½è‹¥éäº†è§£è¡Œä¸ºè¯·å‹¿æ›´æ”¹ã€‚

<Callout type="info">

è¯·æ³¨æ„æ›´æ”¹ `kube-config.yaml` æ–‡ä»¶ä¸­çš„ `server` å­—æ®µï¼Œå°†å…¶æŒ‡å‘é›†ç¾¤çš„ API Server åœ°å€ã€‚é›†ç¾¤é»˜è®¤åœ°å€ä¸€èˆ¬ä¸º `https://127.0.0.1:6443`ï¼Œéœ€è¦æ›´æ”¹ä¸ºé›†ç¾¤å®é™…åœ°å€ã€‚

</Callout>

<Callout type="info" emoji="ğŸ‘¾">

ä¸ºäº†æ»¡è¶³ç½‘ç»œç­–ç•¥ï¼ŒGZCTF ä¼šåœ¨é¢˜ç›®çš„ Namespace ä¸‹åˆ›å»ºåä¸º `gzctf-policy` çš„ NetworkPolicyï¼Œä»¥é™åˆ¶è®¿é—®ã€‚GZCTF ä¼šè‡ªåŠ¨æ£€æµ‹æ­¤ NetworkPolicy æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œè‹¥å­˜åœ¨åˆ™ä¸ä¼šå†æ¬¡åˆ›å»ºï¼Œå› æ­¤ä½ å¯ä»¥é€šè¿‡åˆ›å»ºæˆ–ç¼–è¾‘æ­¤ NetworkPolicy æ¥è‡ªå®šä¹‰ç½‘ç»œç­–ç•¥ã€‚

</Callout>

### RequestLogging

æ­¤å¤„é…ç½®æ˜¯å¦å¼€å¯è¯·æ±‚æ—¥å¿—è®°å½•ï¼Œè‹¥å¼€å¯ï¼Œå°†ä¼šåœ¨æ—¥å¿—ä¸­è¾“å‡ºæ¯ä¸ªè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ã€‚æ­¤å¤„è¾“å‡ºä¸åŒ…æ‹¬é™æ€æ–‡ä»¶çš„è¯·æ±‚ã€‚

### DisableRateLimit

æ­¤å¤„é…ç½®æ˜¯å¦å¼€å¯è¯·æ±‚é¢‘ç‡é™åˆ¶ï¼Œè‹¥å¼€å¯ï¼Œå°†ä¼šæ ¹æ®é¢„è®¾è§„åˆ™é™åˆ¶æ¯ä¸ª IP å’Œ API çš„è¯·æ±‚é¢‘ç‡ã€‚

### RegistryConfig

æ­¤å¤„é…ç½® Docker Registry çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œç”¨äºæ¯”èµ›åŠ¨æ€åˆ›å»ºå®¹å™¨æ—¶æ‹‰å–é•œåƒçš„éªŒè¯ï¼Œå¯é€‰é¡¹ã€‚

- **UserName:** Docker Registry ç”¨æˆ·å
- **Password:** Docker Registry å¯†ç 
- **ServerAddress:** Docker Registry åœ°å€ï¼Œè¯·æ³¨æ„ä¸éœ€è¦åŒ…å« `https://` å‰ç¼€

<Callout type="info">

è¯·ç¡®ä¿å¯†ç ä¸­ä¸åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ `":@` ç­‰ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ `_`ï¼‰ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ¨¡æ¿æ³¨å…¥é—®é¢˜ï¼Œå¯¼è‡´ Secret åˆ›å»ºå¤±è´¥ã€‚

</Callout>

### CaptchaConfig

æ­¤å¤„é…ç½®éªŒè¯ç ç›¸å…³ä¿¡æ¯ï¼Œç”¨äºæ³¨å†Œã€æ‰¾å›è´¦å·å’Œç™»å½•æ—¶çš„éªŒè¯ç éªŒè¯ï¼Œå¯é€‰é¡¹ã€‚

- **Provider:** éªŒè¯ç æä¾›å•†ï¼Œå¯é€‰ `None`ã€`GoogleRecaptcha` æˆ– `CloudflareTurnstile`
- **SiteKey:** éªŒè¯ç  Sitekey
- **SecretKey:** éªŒè¯ç  Secretkey

#### GoogleRecaptcha

é…ç½® Google Recaptcha v3 çš„ç›¸å…³ä¿¡æ¯ï¼Œå¯é€‰é¡¹ã€‚

- **VerifyAPIAddress:** Google Recaptcha éªŒè¯ API åœ°å€
- **RecaptchaThreshold:** Google Recaptcha é˜ˆå€¼ï¼Œç”¨äºåˆ¤æ–­éªŒè¯ç æ˜¯å¦æœ‰æ•ˆ

### ForwardedOptions

æ­¤å¤„é…ç½®åå‘ä»£ç†çš„ç›¸å…³ä¿¡æ¯ï¼Œç”¨äºè·å–çœŸå® IP åœ°å€ï¼Œå¯é€‰é¡¹ã€‚

- **ForwardedHeaders:** åå‘ä»£ç†è½¬å‘çš„æ ‡å¤´æšä¸¾ï¼Œé»˜è®¤è¯·ä½¿ç”¨ `5`ï¼Œè¯¦æƒ…è¯·è§ [ForwardedHeaders æšä¸¾](https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.httpoverrides.forwardedheaders)
- **ForwardLimit:** åå‘ä»£ç†å±‚æ•°é™åˆ¶
- **ForwardedForHeaderName:** åå‘ä»£ç† IP åœ°å€å¤´åç§°
- **TrustedNetworks:** åå‘ä»£ç†ä¿¡ä»»çš„ç½‘ç»œåˆ—è¡¨ï¼Œä½¿ç”¨ CIDR è¡¨ç¤º
- **TrustedProxies:** åå‘ä»£ç†ä¿¡ä»»çš„ä»£ç†åˆ—è¡¨ï¼Œä½¿ç”¨ IP åœ°å€æˆ–åŸŸåè¡¨ç¤º

<Callout type="info">

è‹¥æƒ³è¦å¿½ç•¥åå‘ä»£ç†çš„ä¿¡ä»»åˆ—è¡¨ï¼Œå…è®¸ä»»æ„ IP åœ°å€è®¿é—®ï¼Œè¯·å‚è€ƒ[è½¬å‘ Linux å’Œé IIS åå‘ä»£ç†çš„æ–¹æ¡ˆ](https://learn.microsoft.com/zh-cn/aspnet/core/host-and-deploy/proxy-load-balancer#forward-the-scheme-for-linux-and-non-iis-reverse-proxies)ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ `ASPNETCORE_FORWARDEDHEADERS_ENABLED` ä¸º `true`ã€‚

</Callout>

å…¶ä»–å­—æ®µè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£æè¿°ï¼š[é…ç½® ASP.NET Core ä»¥ä½¿ç”¨ä»£ç†æœåŠ¡å™¨å’Œè´Ÿè½½å‡è¡¡å™¨](https://learn.microsoft.com/zh-cn/aspnet/core/host-and-deploy/proxy-load-balancer) åŠ [ForwardedHeadersOptions ç±»](https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.builder.forwardedheadersoptions)

### Kestrel

Kestrel ä¸º GZCTF è‡ªå¸¦å¹¶ä½¿ç”¨çš„ Web æœåŠ¡å™¨ã€‚åˆ©ç”¨æ­¤é…ç½®å¯ä»¥è‡ªè¡Œæ§åˆ¶ Kestrel çš„è¡Œä¸ºï¼Œä¾‹å¦‚æŒ‡å®š HTTP åè®®ã€ä¿®æ”¹è¯·æ±‚å¤§å°ä¸Šé™ç­‰ç­‰ã€‚

- **Endpoints**: Web æœåŠ¡å™¨ç›‘å¬çš„ URLã€‚ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æˆ–å¯åŠ¨å‚æ•°æ¥é…ç½®ï¼Œå…·ä½“å‚è€ƒ [ä¸º ASP.NET Core Kestrel Web æœåŠ¡å™¨é…ç½®ç»ˆç»“ç‚¹](https://learn.microsoft.com/zh-cn/aspnet/core/fundamentals/servers/kestrel/endpoints)ã€‚
- å…¶ä»–çš„å¯é…ç½®å­—æ®µè¯·å‚ç…§å®˜æ–¹æ–‡æ¡£ä¸­ `KestrelServerOptions` ç±»çš„å±æ€§: [KestrelServerOptions ç±»](https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.server.kestrel.core.kestrelserveroptions)
